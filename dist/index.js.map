{"version":3,"file":"index.js","sources":["../src/util.js","../src/index.js"],"sourcesContent":["export const hashToStyles = (styleHash) => {\n  let result = '';\n\n  const keys = Object.keys(styleHash);\n\n  for (let key of keys) {\n    if (result) {\n      result += '; ';\n    }\n\n    result += key + ': ' + styleHash[key];\n  }\n\n  return result;\n};\n\nexport const toPx = (value) => {\n  if (!value) { return '0'; }\n\n  return `${value}px`;\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { hashToStyles, toPx } from './util';\n\nexport default class BulletproofButton extends Component {\n  render() {\n    const vmlRectStyles = hashToStyles({\n      'height': toPx(this.props.height),\n      'v-text-anchor': 'middle',\n      'width': toPx(this.props.width)\n    });\n\n    const vmlCenterStyles = hashToStyles({\n      'color': '#ffffff',\n      'font-family': this.props.fontFamily,\n      'font-size': toPx(this.props.fontSize),\n      'font-weight': this.props.fontWeight\n    });\n\n    const vmlArcSize = this.calculateVmlArcSize();\n\n    const htmlLinkStyles = hashToStyles({\n      'background-color': this.props.backgroundColor,\n      'border-color': this.props.borderColor,\n      'border-style': this.props.borderStyle,\n      'border-width': toPx(this.props.borderWidth),\n      'border-radius': toPx(this.props.borderRadius),\n      'color': this.props.fontColor,\n      'display': 'inline-block',\n      'font-family': this.props.fontFamily,\n      'font-size': toPx(this.props.fontSize),\n      'font-weight': this.props.fontWeight,\n      'height': toPx(this.props.height),\n      'line-height': toPx(this.props.height),\n      'mso-hide': 'all',\n      'text-align': 'center',\n      'text-decoration': 'none',\n      'width': toPx(this.props.width),\n      '-webkit-text-size-adjust': 'none'\n    });\n\n    const vmlButton = `\n      <!--[if mso]>\n        <v:roundrect xmlns:v=\"urn:schemas-microsoft-com:vml\"\n                     xmlns:w=\"urn:schemas-microsoft-com:office:word\"\n                     href=\"${this.props.href}\"\n                     style=\"${vmlRectStyles}\"\n                     arcsize=\"${vmlArcSize}\"\n                     strokecolor=\"${this.props.borderColor}\"\n                     fillcolor=\"${this.props.backgroundColor}\">\n          <w:anchorlock />\n          <center style=\"${vmlCenterStyles}\">\n            ${this.props.text}\n          !</center>\n        </v:roundrect>\n      <![endif]-->\n    `;\n\n    const htmlButton = `\n      <a\n        href=\"${this.props.href}\"\n        style=\"${htmlLinkStyles}\">\n        ${this.props.text}\n      </a>\n    `;\n\n    return (\n      <div>\n        <div dangerouslySetInnerHTML={{__html: vmlButton}} />\n        <div dangerouslySetInnerHTML={{__html: htmlButton}} />\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    if (this.linkElement) {\n      this.linkElement.style['mso-hide'] = 'all';\n      this.linkElement.style['font-size'] = '15px';\n      this.linkElement.style.fontSize = '16px';\n      this.linkElement.style.msoHide = 'all';\n    }\n  }\n\n  calculateVmlArcSize = () => {\n    return Math.round((this.props.borderRadius / this.props.width) * 100).toString() + '%';\n  }\n}\n\nBulletproofButton.defaultProps = {\n  backgroundColor: '#556270',\n  borderColor: '#1e3650',\n  borderRadius: 4,\n  borderStyle: 'solid',\n  borderWidth: 1,\n  fontFamily: 'sans-serif',\n  fontSize: 13,\n  fontWeight: 'bold',\n  fontColor: '#fff',\n  height: 40,\n  width: 200\n};\n\nBulletproofButton.propTypes = {\n  backgroundColor: PropTypes.string,\n  borderColor: PropTypes.string,\n  borderRadius: PropTypes.number,\n  borderStyle: PropTypes.string,\n  borderWidth: PropTypes.number,\n  fontColor: PropTypes.string,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  fontWeight: PropTypes.string,\n  height: PropTypes.number,\n  href: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  width: PropTypes.number\n};\n"],"names":["hashToStyles","styleHash","result","keys","Object","key","toPx","value","BulletproofButton","calculateVmlArcSize","Math","round","props","borderRadius","width","toString","vmlRectStyles","height","vmlCenterStyles","fontFamily","fontSize","fontWeight","vmlArcSize","htmlLinkStyles","backgroundColor","borderColor","borderStyle","borderWidth","fontColor","vmlButton","href","text","htmlButton","React","__html","linkElement","style","msoHide","Component","defaultProps","propTypes","PropTypes","string","number","isRequired"],"mappings":"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"}