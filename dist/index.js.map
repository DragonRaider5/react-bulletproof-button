{"version":3,"file":"index.js","sources":["../src/util.js","../src/index.js"],"sourcesContent":["export const hashToStyles = (styleHash) => {\n  let result = '';\n\n  const keys = Object.keys(styleHash);\n\n  for (let key of keys) {\n    if (result) {\n      result += '; ';\n    }\n\n    result += key + ': ' + styleHash[key];\n  }\n\n  return result;\n};\n\nexport const toPx = (value) => {\n  if (!value) { return '0'; }\n\n  return `${value}px`;\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { hashToStyles, toPx } from './util';\n\nexport default class BulletproofButton extends Component {\n  render() {\n    const vmlRectStyles = hashToStyles({\n      'height': toPx(this.props.height),\n      'v-text-anchor': 'middle',\n      'width': toPx(this.props.width)\n    });\n\n    const vmlCenterStyles = hashToStyles({\n      'color': '#ffffff',\n      'font-family': this.props.fontFamily,\n      'font-size': toPx(this.props.fontSize),\n      'font-weight': this.props.fontWeight\n    });\n\n    const vmlArcSize = this.calculateVmlArcSize();\n\n    const htmlLinkStyles = hashToStyles({\n      'background-color': this.props.backgroundColor,\n      'border-color': this.props.borderColor,\n      'border-style': this.props.borderStyle,\n      'border-width': toPx(this.props.borderWidth),\n      'border-radius': toPx(this.props.borderRadius),\n      'color': this.props.fontColor,\n      'display': 'inline-block',\n      'font-family': this.props.fontFamily,\n      'font-size': toPx(this.props.fontSize),\n      'font-weight': this.props.fontWeight,\n      'height': toPx(this.props.height),\n      'line-height': toPx(this.props.height),\n      'mso-hide': 'all',\n      'text-align': 'center',\n      'text-decoration': 'none',\n      'width': toPx(this.props.width),\n      '-webkit-text-size-adjust': 'none'\n    });\n\n    const vmlButton = `\n      <!--[if mso]>\n        <v:roundrect xmlns:v=\"urn:schemas-microsoft-com:vml\"\n                     xmlns:w=\"urn:schemas-microsoft-com:office:word\"\n                     href=\"${this.props.href}\"\n                     style=\"${vmlRectStyles}\"\n                     arcsize=\"${vmlArcSize}\"\n                     strokecolor=\"${this.props.borderColor}\"\n                     fillcolor=\"${this.props.backgroundColor}\">\n          <w:anchorlock />\n          <center style=\"${vmlCenterStyles}\">\n            ${this.props.text}\n          !</center>\n        </v:roundrect>\n      <![endif]-->\n    `;\n\n    const htmlButton = `\n      <a\n        href=\"${this.props.href}\"\n        style=\"${htmlLinkStyles}\">\n        ${this.props.text}\n      </a>\n    `;\n\n    return (\n      <div>\n        <div dangerouslySetInnerHTML={{__html: vmlButton}} />\n        <div dangerouslySetInnerHTML={{__html: htmlButton}} />\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    if (this.linkElement) {\n      this.linkElement.style['mso-hide'] = 'all';\n      this.linkElement.style['font-size'] = '15px';\n      this.linkElement.style.fontSize = '16px';\n      this.linkElement.style.msoHide = 'all';\n    }\n  }\n\n  calculateVmlArcSize = () => {\n    return Math.round((this.props.borderRadius / this.props.width) * 100).toString() + '%';\n  }\n}\n\nBulletproofButton.defaultProps = {\n  backgroundColor: '#556270',\n  borderColor: '#1e3650',\n  borderRadius: 4,\n  borderStyle: 'solid',\n  borderWidth: 1,\n  fontFamily: 'sans-serif',\n  fontSize: 13,\n  fontWeight: 'bold',\n  fontColor: '#fff',\n  height: 40,\n  width: 200\n};\n\nBulletproofButton.propTypes = {\n  backgroundColor: PropTypes.string,\n  borderColor: PropTypes.string,\n  borderRadius: PropTypes.number,\n  borderStyle: PropTypes.string,\n  borderWidth: PropTypes.number,\n  fontColor: PropTypes.string,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  fontWeight: PropTypes.string,\n  height: PropTypes.number,\n  href: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  width: PropTypes.number\n};\n"],"names":["hashToStyles","styleHash","result","keys","Object","key","toPx","value","BulletproofButton","Math","round","props","borderRadius","width","toString","vmlRectStyles","height","vmlCenterStyles","fontFamily","fontSize","fontWeight","vmlArcSize","calculateVmlArcSize","htmlLinkStyles","backgroundColor","borderColor","borderStyle","borderWidth","fontColor","vmlButton","href","text","htmlButton","React","__html","linkElement","style","msoHide","Component","defaultProps","propTypes","PropTypes","string","number","isRequired"],"mappings":"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"}